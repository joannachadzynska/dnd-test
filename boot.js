var __read=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},__spread=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t},__extends=this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__values=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(t,e,a,u){return new(a=a||Promise)(function(n,i){function r(t){try{s(u.next(t))}catch(e){i(e)}}function o(t){try{s(u["throw"](t))}catch(e){i(e)}}function s(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(r,o)}s((u=u.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(n,i){var r,o,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(s=2&t[0]?o["return"]:t[0]?o["throw"]||((s=o["return"])&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,o=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=i.call(n,a)}catch(e){t=[6,e],o=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([e,t])}}};define("_modules/core/interfaces/an-layer",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define("_base/boot",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(d.findLayers=function(){var e=[];return[].slice.call(document.querySelectorAll("div[data-layer]")).forEach(function(t){e.push({name:t.getAttribute("data-layer"),canvas:t.querySelector("canvas"),container:t,domOverlay:t.querySelector("div"),stage:undefined})}),e},d.prototype.registerLayers=function(t){var e=this;t.forEach(function(t){return e.registerLayer(t)})},d.prototype.registerLayer=function(t){this.layers[t.name]=t},d.prototype.getLayers=function(){return this.layers},d.prototype.setMainLibrary=function(t,e){this.library=t,this.libraryName=e},d.prototype.setSpriteSheet=function(t){this.ss=t},d.prototype.setImages=function(t){this.images=t},d.prototype.initLayer=function(t){t.stage=new createjs.Stage(t.canvas)},d.prototype.start=function(){var i=this;if(Object.keys(this.layers).length<1)throw"AN Boot failed. No layers defined";if(!this.layers["default"])throw"AN Boot failed. Default layer not defined";return Object.keys(this.layers).forEach(function(t){i.initLayer(i.layers[t])}),window.globalStage=this.layers["default"].stage,new Promise(function(n,t){0!==i.library.properties.manifest.length?(i.loader.addEventListener("fileload",function(t){"image"===t.item.type&&(i.images[t.item.id]=t.result)}),i.loader.addEventListener("complete",function(t){var e=[new window.FontFaceObserver("Cambria").load(),new window.FontFaceObserver("Open Sans").load(),new window.FontFaceObserver("Open Sans Semibold").load()];Promise.all(e).then(function(){n(i.setup(t))})["catch"](function(){return n(i.setup(t))})}),i.loader.loadManifest(i.library.properties.manifest)):n(i.setup(null))})},d.prototype.setup=function(t){var n=this;if(createjs.MotionGuidePlugin.install(),null!==t&&null!==this.ss)for(var e=t.target,i=this.library.ssMetadata,r=0;r<i.length;r++)this.ss[i[r].name]=new createjs.SpriteSheet({images:[e.getResult(i[r].name)],frames:i[r].frames});console.timeStamp;var o=new this.library[this.libraryName];return console.timeStamp,window.globalRoot=o,this.layers["default"].stage.tickOnUpdate=!1,this.layers["default"].stage.visible=!1,this.layers["default"].stage.on("drawstart",function(t){return t.preventDefault()}),createjs.Ticker.framerate=this.library.properties.fps,this.layers["default"].stage.addChild(o),Object.keys(this.layers).forEach(function(t,e){n.makeResponsive(n.layers[t],e),createjs.Ticker.addEventListener("tick",n.layers[t].stage)}),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,o},d.prototype.getBaseCanvasSize=function(t){return{width:Number(t.dataset.baseWidth||t.width),height:Number(t.dataset.baseHeight||t.height)}},d.prototype.getCurrentCanvasSize=function(t){return{width:Number(t.width),height:Number(t.height)}},d.prototype.getCanvasScale=function(t){var e=this.getBaseCanvasSize(t),n=this.getCurrentCanvasSize(t);return Math.round(n.width/e.width*100)/100},d.prototype.makeResponsive=function(t,e){var n=this;window.addEventListener("resize",function(){n.resizeLayerDebounced(t,250,e)}),this.resizeLayer(t)},d.prototype.resizeLayerDebounced=function(e,t,n){var i=this;this.resizeTimeoutRef.has(e)&&clearTimeout(this.resizeTimeoutRef.get(e)),this.resizeTimeoutRef.set(e,setTimeout(function(){if(i.resizeLayer(e),0===n){var t=new CustomEvent("scaleChange");window.dispatchEvent(t)}},t))},d.prototype.resizeLayer=function(t,e,n,i,r){void 0===e&&(e=!0),void 0===n&&(n="both"),void 0===i&&(i=!0),void 0===r&&(r=1);var o=this.library.properties.width,s=this.library.properties.height,a=window.innerWidth,u=window.innerHeight,c=(window.devicePixelRatio,a/o),l=u/s,h=1,f=this.getScaleMultiplier();e&&("width"===n&&this.lastW===a||"height"===n&&this.lastH===u?h=this.lastS:i?1===r?h=Math.min(c,l):2===r&&(h=Math.max(c,l)):(a<o||u<s)&&(h=Math.min(c,l)));var p=d.getCanvasSmoothing(t.canvas);t.canvas.width=Math.round(o*h*f),t.canvas.height=Math.round(s*h*f),d.setCanvasSmoothing(t.canvas,p),t.canvas.style.width=Math.round(o*h)+"px",t.canvas.style.height=Math.round(s*h)+"px",t.container.style.width=t.domOverlay.style.width=Math.round(o*h)+"px",t.container.style.height=t.domOverlay.style.height=Math.round(s*h)+"px",t.stage.scaleX=h*f,t.stage.scaleY=h*f,this.lastW=a,this.lastH=u,this.lastS=h,t.stage.tickOnUpdate=!1,t.stage.update(),t.stage.tickOnUpdate=!0},d.getCanvasSmoothing=function(t){return t.getContext("2d").imageSmoothingEnabled},d.setCanvasSmoothing=function(t,e){var n=t.getContext("2d");n.webkitImageSmoothingEnabled=e,n.imageSmoothingEnabled=e},d.prototype.setScaleMultiplier=function(){var t,e=parseInt(function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}("quality"));switch(window.devicePixelRatio,e){case 3:t=2;break;default:case 2:t=1;break;case 1:t=.75}window.scaleMultiplier=t},d.prototype.getScaleMultiplier=function(){var t=window.scaleMultiplier,e="number"==typeof t?t:1;return Math.min(e,5)},d);function d(t,e,n){this.ss=null,this.images=[],this.lastW=undefined,this.lastH=undefined,this.lastS=1,this.resizeTimeoutRef=new WeakMap,this.layers={},t&&e&&n&&(this.layers["default"]={name:"default",container:e,canvas:t,domOverlay:n,stage:undefined}),this.loader=new createjs.LoadQueue(!1),this.loader.installPlugin(createjs.Sound),this.setScaleMultiplier()}e.Boot=n}),define("Matlandia_Junior/exer_1_4/lib",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=window.createjsResource;e.Library=n.getLibrary(),e.Images=n.getImages(),e.SpriteSheet=n.getSpriteSheet()}),define("_base/interfaces/base-exercise-interface",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define("_base/xmljs",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.xml2js=window.xmljs.xml2js}),define("_modules/utils/array-utils",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i.randomItems=function(t,e){return i.shuffle(t).slice(0,e)},i.unique=function(n){return n.filter(function(t,e){return n.indexOf(t)==e})},i.compare=function(e,n){return!!e.every(function(t){return n.includes(t)})&&!!n.every(function(t){return e.includes(t)})},i.compareValueAndIndex=function(t,n){return t.length===n.length&&t.map(function(t,e){return t===n[e]}).every(function(t){return!0===t})},i.randomItem=function(t){return t[Math.floor(Math.random()*t.length)]},i.shuffle=function(t){for(var e,n,i=__spread(t),r=i.length;r;)n=Math.floor(Math.random()*r--),e=i[r],i[r]=i[n],i[n]=e;return i},i.shuffleTwoArrays=function(t,e){for(var n,i,r=__spread(t),o=__spread(e),s=r.length;s;)i=Math.floor(Math.random()*s--),n=r[s],r[s]=r[i],r[i]=n,n=o[s],o[s]=o[i],o[i]=n;return[r,o]},i.flatten=function(t){for(var e=__spread(t),n=[];e.length;){var i=e.pop();Array.isArray(i)?e.push.apply(e,__spread(i)):n.push(i)}return n.reverse()},i.allEqual=function(t){return!t.length||t.reduce(function(t,e){return t===e?t:!e})===t[0]},i);function i(){}e.ArrayUtils=n}),define("_modules/utils/dom-utils",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i.getLabelDom=function(t){return t._element&&t._element._element&&t._element._element.get(0)?t._element._element.get(0):null},i.toggleVisibility=function(t,e){(t instanceof createjs.MovieClip?i.getLabelDom(t):t).style.visibility=e?"visible":"hidden"},i);function i(){}e.DomUtils=n}),define("_modules/utils/geom-utils",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},n=(u.getAngleBetweenSegments=function(t,e,n,i){var r=u.getSlope(t,e),o=Math.atan(r),s=u.getSlope(n,i),a=Math.atan(s);return Math.abs(o-a)},u.isPointInSegment=function(t,e,n){return(e.x<=t.x&&t.x<=n.x||e.x>=t.x&&t.x>=n.x)&&(e.y<=t.y&&t.y<=n.y||e.y>=t.y&&t.y>=n.y)},u.isPointInOpenSegment=function(t,e,n){return((n.y-e.y)*(t.x-e.x)).toFixed(0)===((t.y-e.y)*(n.x-e.x)).toFixed(0)&&(e.x>t.x&&t.x>n.x||e.x<t.x&&t.x<n.x)&&(e.y>=t.y&&t.y>=n.y||e.y<=t.y&&t.y<=n.y)},u.findCrossingPoint=function(t,e,n,i){var r,o=e.y-t.y,s=t.x-e.x,a=-(e.x*t.y-e.y*t.x),u=i.y-n.y,c=n.x-i.x,l=-(i.x*n.y-i.y*n.x),h=o*c-u*s;return 0!=h&&(r=new f((a*c-l*s)/h,(o*l-u*a)/h)),r},u.getPointDroopedOnSegment=function(t,e,n){var i=u.getPointDistanceFromPoint(e,n),r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/(i*i),o=e.x+r*(n.x-e.x),s=e.y+r*(n.y-e.y);return new f(o,s)},u.getPointDistanceFromPoint=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},u.getPointDistanceFromLine=function(t,e,n,i){return Math.abs(e*t.x+n*t.y+i)/Math.sqrt(e*e+n*n)},u.getPointDistanceFromSegment=function(t,e,n){var i=(e.y-n.y)/(e.x-n.x),r=(e.y+n.y-i*(e.x+n.x))/2;return u.getPointDistanceFromLine(t,i,-1,r)},u.getUnitVectorX=function(t,e){return t/Math.sqrt(1+e*e)},u.getUnitVectorY=function(t,e){return t/Math.sqrt(1+1/(e*e))},u.getDirection=function(t,e){return new f(t.x>=e.x?1:-1,t.y>=e.y?1:-1)},u.getSlope=function(t,e){var n=(t.y-e.y)/(t.x-e.x);return n==-Infinity&&(n=Infinity),n},u.getOrthogonalSlope=function(t){var e=-1/t;return e==-Infinity&&(e=Infinity),e},u.lineSegmentsIntersect=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=i.x-n.x,a=i.y-n.y,u=(-o*(t.x-n.x)+r*(t.y-n.y))/(-s*o+r*a),c=(s*(t.y-n.y)-a*(t.x-n.x))/(-s*o+r*a);return 0<=u&&u<=1&&0<=c&&c<=1},u.reflectPointAcrossLine=function(t,e,n,i,r){var o,s,a,u,c,l;return a=((o=i-e)*o-(s=r-n)*s)/(o*o+s*s),u=2*o*s/(o*o+s*s),c=Math.round(a*(t.x-e)+u*(t.y-n)+e),l=Math.round(u*(t.x-e)-a*(t.y-n)+n),new f(c,l)},u.reflectPointAcrossPoint=function(t,e){var n=e;return new f(n.x+(n.x-t.x),n.y+(n.y-t.y))},u.lineSegmentContainsAnother=function(t,e){if(!t||!e)return!1;var n=this.isPointInSegment;return n(t.start,e.start,e.end)&&n(t.end,e.start,e.end)},u.anyLineSegmentContainsAnother=function(t,e){return!(!t||!e)&&(this.lineSegmentContainsAnother(t,e)||this.lineSegmentContainsAnother(e,t))},u.lineSegmentsOverlap=function(t,e){if(!t||!e)return!1;if(this.getSlope(t.start,t.end)!==this.getSlope(e.start,e.end))return!1;var n=this.isPointInOpenSegment;return n(t.start,e.start,e.end)||n(t.end,e.start,e.end)||n(e.start,t.start,t.end)||n(e.end,t.start,t.end)},u.areLineSegmentsIdentical=function(t,e){if(!t||!e)return!1;var n=this.arePointsIdentical;return n(t.start,e.start)&&n(t.end,e.end)||n(t.start,e.end)&&n(t.end,e.start)},u.arePointsIdentical=function(t,e){return!(!t||!e)&&t.x===e.x&&t.y===e.y},u.getMidpoint=function(t,e){return new f((t.x+e.x)/2,(t.y+e.y)/2)},u.sortVertices=function(t,n){return __spread(t).sort(function(t,e){return Math.atan2(t.x-n.x,t.y-n.y)-Math.atan2(e.x-n.x,e.y-n.y)})},u);function u(){}e.GeomUtils=n}),define("_modules/utils/math-converter",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i.prototype.addConverters=function(t){var e=this;t.forEach(function(t){return e.converters.push(t)})},i.prototype.convert=function(t){return this.converters.reduce(function(t,e){return e(t)},t)},i);function i(t){void 0===t&&(t=[]),this.converters=t}e.MathConverter=n}),define("_modules/utils/math-utils",["require","exports"],function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MathUtils=function(){function MathUtils(){}return MathUtils.stringMathOperation=function(mathOperation){var result=Number(eval(mathOperation.replace(/,/g,".")));return MathUtils.normalizeNumber(result)},MathUtils.normalizeNumber=function(t){return Math.round(1e9*t)/1e9},MathUtils.toNumber=function(t){return t=(t=t.split(",").join(".")).split("−").join("-"),Number(t)},MathUtils.toString=function(t){var e=String(t);return(e=e.split(".").join(",")).split("-").join("−")},MathUtils.compareExpressions=function(t,e){return"string"==typeof t&&(t=Number(t.replace(",","."))),"string"==typeof e&&(e=Number(e.replace(",","."))),t===e},MathUtils.randomize=function(t,e){return Math.random()<.5?1:-1},MathUtils.getUnitSpace=function(){return String.fromCharCode(8239)},MathUtils.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},MathUtils.randomNumber=function(t,e,n){var i;if(void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=null),n){n.sort(function(t,e){return t-e}),i=Math.floor(Math.random()*(1+e-t))+t;for(var r=!1,o=0;!r&&o<1+e-t;){if(-1==n.indexOf(i)){r=!0;break}i==e?i=t:i++,o++}}else i=Math.floor(Math.random()*(1+e-t))+t;return i},MathUtils.roundMe=function(t,e){void 0===e&&(e=2);var n=Math.pow(10,e);return Math.round(t*n)/n},MathUtils.getGreatestCommonDivisor=function(t,e){for(var n;0<e;)n=t%e,t=e,e=n;return t},MathUtils}();exports.MathUtils=MathUtils}),define("_modules/core/bounds-utils",["require","exports","_modules/utils/index"],function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(h.isDomLabel=function(t){return t._element&&t._element._$this&&t._element._$this.hasClass("ui-label")},h.getLabelBounds=function(t){if(!h.isDomLabel(t))throw"getLabelBounds must be called only with label";var e=t._element._$this,n=l.ClipUtils.getBaseCanvasSize(t).width;return h._getHtmlElmBounds(e,n)},h._getHtmlElmBounds=function(t,e){if(0===t.length)return new createjs.Rectangle(0,0,0,0);var n=t.get(0).getBoundingClientRect(),i=e/$(document.body).width();return new createjs.Rectangle(n.left*i,n.top*i,n.width*i,n.height*i)},h.getBounds=function(t){if(h.isDomLabel(t)){var e=t._element._$this.find(".content-wrapper"),n=l.ClipUtils.getBaseCanvasSize(t).width;return h._getHtmlElmBounds(e,n)}if((t instanceof createjs.Container||t instanceof createjs.Shape)&&t.nominalBounds){var i=t,r=this.getNominalBounds(i),o=r.width*i.scaleX,s=r.height*i.scaleY,a=new createjs.Rectangle(i.x-i.regX,i.y-i.regY,o,s);return-90===t.skewX&&90===t.skewY||90===t.skewX&&-90===t.skewY?new createjs.Rectangle(a.x,a.y,a.height,a.width):a}var u=t.getTransformedBounds();if(u)return u;if(t instanceof createjs.Shape&&t.graphics&&t.graphics.command){var c=t.graphics.command;return new createjs.Rectangle(c.x,c.y,c.w,c.h)}if(t instanceof createjs.Text)return undefined;throw"Cannot determine bounds"},h.getNominalBounds=function(t){return t.nominalBounds?new createjs.Rectangle(t.nominalBounds.x,t.nominalBounds.y,t.nominalBounds.width,t.nominalBounds.height):t.getBounds()},h);function h(){}e.BoundsUtils=n}),define("_modules/core/interfaces/decorator",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define("_modules/core/interfaces/index",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define("_modules/core/interactive-element",["require","exports","_modules/utils/index"],function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(Object.defineProperty(r.prototype,"nativeElement",{get:function(){return this.getNativeElement()},enumerable:!0,configurable:!0}),r.prototype.getNativeElement=function(){return this.item?n.DomUtils.getLabelDom(this.item):null},r.prototype.setConfig=function(t){t.onMarkWrong!==undefined&&(this.onMarkWrong=t.onMarkWrong),t.onShowWrong!==undefined&&(this.onShowWrong=t.onShowWrong),t.onShowCorrect!==undefined&&(this.onShowWrong=t.onShowCorrect),t.onValueChange!==undefined&&(this.onValueChange=t.onValueChange),t.onChange!==undefined&&(this.onChange=t.onChange),t.autoShowWrong!==undefined&&(this.autoShowWrong=t.autoShowWrong)},r.prototype.emitValueChange=function(){this._valueChanged.forEach(function(t){return t()}),this.onValueChange(this),this._internalChange.forEach(function(t){return t()}),this.onChange(this)},r.prototype.setWrong=function(e){return this._isWrong===e||(this._isWrong=e,this._internalMarkWrong.forEach(function(t){return t(e)}),this.onMarkWrong(e),!this.autoShowWrong&&e||this.showWrong(e),this._internalChange.forEach(function(t){return t()}),this.onChange(this)),this},r.prototype.showWrong=function(t){this.onShowWrong(t)},r.prototype.showCorrect=function(t){this.onShowCorrect(t)},r.prototype.showAnswer=function(){return this.isWrong()?this.showWrong(!0):this.showCorrect(!0),this},r.prototype.isVisible=function(){return this.item.visible},r.prototype.isWrong=function(){return this._isWrong},r.prototype.reset=function(){this.isWrong()&&this.setWrong(!1)},r.prototype.isReady=function(){return!this.isWrong()&&this.isFilled()||this.item&&!this.isVisible()},Object.defineProperty(r.prototype,"markWrong",{get:function(){return this.isWrong()},set:function(t){this.setWrong(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lock",{get:function(){return this.isLocked()},set:function(t){this.setLocked(t)},enumerable:!0,configurable:!0}),r);function r(t,e){this.item=t,this._isWrong=!1,this.data=null,this.onMarkWrong=function(){return null},this.onChange=function(){return null},this.onValueChange=function(){return null},this.onShowWrong=function(){return null},this.onShowCorrect=function(){return null},this._internalMarkWrong=[],this._internalChange=[],this._valueChanged=[],this.autoShowWrong=!0,e&&this.setConfig(e)}e.InteractiveElement=i}),define("_modules/core/interactive-group",["require","exports","_modules/core/interactive-element"],function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n.InteractiveElement,__extends(o,i),o.prototype.getValue=function(){return this.getValues()},o.prototype.setShowWrongElements=function(e){this.elements.forEach(function(t){t instanceof o&&t.setShowWrongElements(e),t.autoShowWrong=e})},o.prototype.addElement=function(t){this.showWrongElements||(t instanceof o&&(t.showWrongElements=!1),t.autoShowWrong=!1),this.elements.push(t),this.bindElementChange(t)},o.prototype.bindElementChange=function(t){var e=this;t._internalMarkWrong.push(function(t){e.showWrongElements&&!e.coupledMarkWrong&&e.setWrong(e.isWrong()),e.coupledMarkWrong&&t&&e.setWrong(!0)}),t._valueChanged.push(function(){!e.coupledMarkWrong&&e.showWrongElements||e.setWrong(!1),e.emitValueChange()})},o.prototype.isWrong=function(){return this.showWrongElements?this.anyElementWrong():i.prototype.isWrong.call(this)},o.prototype.setWrong=function(e){return this.coupledMarkWrong?(this.elements.forEach(function(t){return t.setWrong(e)}),this):i.prototype.setWrong.call(this,e)},o.prototype.getValues=function(){return this.elements.map(function(t){return t.getValue()})},o.prototype.showWrong=function(e){this.coupledMarkWrong&&this.elements.forEach(function(t){return t.showWrong(e)}),i.prototype.showWrong.call(this,e)},o.prototype.showAnswer=function(){return i.prototype.showAnswer.call(this),this.elements.forEach(function(t){t.showAnswer()}),this},o.prototype.allElementsFilled=function(){var t,e;try{for(var n=__values(this.elements),i=n.next();!i.done;i=n.next()){var r=i.value;if(!(r.isFilled()||r.item&&!r.isVisible()))return!1}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}return!0},o.prototype.anyElementWrong=function(){return this.elements.some(function(t){return t.isWrong()})},o.prototype.anyElementFilled=function(){return this.elements.some(function(t){return!!t.getValue()})},o.prototype.anyElementLocked=function(){return this.elements.some(function(t){return t.isLocked()})},o.prototype.isFilled=function(){return this.allFilledStrategy?this.allElementsFilled():this.anyElementFilled()},o.prototype.reset=function(){this.setWrong(!1),this.elements.forEach(function(t){return t.reset()})},o.prototype.isReady=function(){return!this.isWrong()&&this.isFilled()},o.prototype.setLocked=function(e){this.elements.forEach(function(t){return t.setLocked(e)})},o.prototype.isLocked=function(){return this.elements.some(function(t){return t.isLocked()})},o.prototype.setVisible=function(e){this.elements.map(function(t){return t.item.visible=e})},o.prototype.checkAllElementsVisibility=function(e){return!this.elements.some(function(t){return t.item.visible!==e})},o);function o(t,e){var n=i.call(this,null,e)||this;return n.elements=t,n.showWrongElements=!0,n.coupledMarkWrong=!1,n.allFilledStrategy=!0,e!==undefined&&"object"==typeof e&&(e.showWrongElements!==undefined&&(n.showWrongElements=e.showWrongElements),e.allFilledStrategy!==undefined&&(n.allFilledStrategy=e.allFilledStrategy),e.coupledMarkWrong!==undefined&&(n.coupledMarkWrong=e.coupledMarkWrong)),n.setShowWrongElements(n.showWrongElements),n.elements.forEach(function(t){return n.bindElementChange(t)}),n}e.InteractiveGroup=r}),define("_modules/core/grouped-elements",["require","exports","_modules/core/interactive-group"],function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n.InteractiveGroup,__extends(o,i),o);function o(t,e){var n=i.call(this,t,e)||this;return n.elements=t,n}e.GroupedElements=r}),define("_modules/core/index",["require","exports","_modules/core/bounds-utils","_modules/core/grouped-elements","_modules/core/interactive-element","_modules/core/interactive-group"],function(t,n,e,i,r,o){"use strict";function s(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),s(e),s(i),s(r),s(o)}),define("_modules/utils/clip-utils",["require","exports","_modules/core/index","_modules/utils/array-utils"],function(t,e,p,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d={ignoreClipScale:!1,customScale:1},i=["_listeners","_captureListeners","alpha","cacheCanvas","cacheID","id","mouseEnabled","tickEnabled","name","parent","regX","regY","rotation","scaleX","scaleY","skewX","skewY","shadow","visible","x","y","transformMatrix","compositeOperation","snapToPixel","filters","mask","hitArea","cursor","_cacheOffsetX","_cacheOffsetY","_filterOffsetX","_filterOffsetY","_cacheScale","_cacheDataURLID","_cacheDataURL","_props","_rectangle","_bounds","children","mouseChildren","tickChildren","mode","startPosition","loop","currentFrame","timeline","paused","actionsEnabled","autoReset","frameBounds","framerate","_synchOffset","_prevPos","_prevPosition","_t","_managed"],n=(g.getInnerMovieClip=function(t,e){var n=new RegExp("^(("+e+"(_\\d+))|"+e+")$");return t.children&&t.children.find(function(t){return n.test(t.name)})||null},g.getInstanceByName=function(t,e){return t.children.find(function(t){return t.name.slice(0,e.length)===e})},g.getAllCachedClips=function(t){return g.getWithNestedMovieClips(t).filter(function(t){return t.cacheCanvas})},g.getAllClipsWithFilters=function(t){return g.getWithNestedMovieClips(t).filter(function(t){return t.filters instanceof Array&&0<t.filters.length})},g.getWithNestedMovieClips=function(t){var e=t.children&&t.children.filter(function(t){return t instanceof createjs.MovieClip})||[],n=g.getChildInstances(t),i=r.ArrayUtils.unique(__spread(e,n));return r.ArrayUtils.flatten(__spread([t],i.map(function(t){return g.getWithNestedMovieClips(t)})))},g.getChildInstances=function(t){return Object.entries(t).filter(function(t){var e=__read(t,2),n=e[0];return e[1],!i.includes(n)}).map(function(t){var e=__read(t,2);return e[0],e[1]}).filter(function(t){return t instanceof createjs.MovieClip})},g.getWithParents=function(t){return t.parent instanceof createjs.DisplayObject&&!(t.parent instanceof createjs.Stage)?r.ArrayUtils.flatten([t,this.getWithParents(t.parent)]):[t]},g.getDepth=function(t){return g.getWithParents(t).length},g.getAggregatedBounds=function(t){var e=p.BoundsUtils.getNominalBounds(t);if(e){var n=(t.filters||[]).map(function(t){return t.getBounds()}).filter(Boolean).reduce(function(t,e){return{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)}},{x:0,y:0,width:0,height:0});return new createjs.Rectangle(e.x+n.x,e.y+n.y,Math.max(e.width,n.width),Math.max(e.height,n.height))}},g.cacheClip=function(e,t){var n=g.getWithParents(e).map(function(t){return Math.max(t.scaleX,t.scaleY)}).reduce(function(t,e){return t*(e||1)},1),i=p.BoundsUtils.getNominalBounds(e);if(!i)return Promise.resolve();var r=e.filters instanceof Array&&e.filters.some(function(t){return t instanceof createjs.BlurFilter}),o=i.x,s=i.y,a=i.width,u=i.height,c=__assign(__assign({},d),t),l=c.ignoreClipScale,h=c.customScale,f=this.getCanvasScale(e)*(l?1:n)*h;return g.scaleFilters(e,f),new Promise(function(t){e.cache(o,s,a,u,r?1:f),t()})},g.smartCacheClip=function(t,e){return g.registerClipCache(t,__assign(__assign({},d),e)),g.cacheClip(t,__assign(__assign({},d),e))},g.uncache=function(t){t.uncache(),g.unregisterClipCache(t)},g.registerScaleChangeListener=function(){window.scaleChangeListner instanceof Function||(window.addEventListener("scaleChange",g.recacheRegisteredClips),window.addEventListener("unload",function(){return window.removeEventListener("scaleChangeListener",g.recacheRegisteredClips)}))},g.recacheRegisteredClips=function(){g.getClipCacheRegister().sort(function(t,e){return e.depth-t.depth}).forEach(function(t){return g.cacheClip(t.clip,t.cacheConfig)})},g.registerClipCache=function(e,t){g.registerScaleChangeListener();var n=g.getClipCacheRegister();n.find(function(t){return t.clip===e})||n.push({clip:e,depth:g.getDepth(e),cacheConfig:t})},g.unregisterClipCache=function(e){var t=g.getClipCacheRegister(),n=t.findIndex(function(t){return t.clip===e});0<=n&&t.splice(n,1)},g.getClipCacheRegister=function(){return document.clipCacheRegister||(document.clipCacheRegister=[]),document.clipCacheRegister},g.scaleFilters=function(t,e){if(g.hasFilters(t)){var n=g.getOriginalFilters(t),i=(n.filters,n.shadow);i&&(t.shadow=g.scaleShadow(i,e))}},g.scaleBlurFilter=function(t,e){return new createjs.BlurFilter(t.blurX*e,t.blurY*e,t.quality||1)},g.scaleShadow=function(t,e){return new createjs.Shadow(t.color,t.offsetX*e,t.offsetY*e,t.blur*e)},g.hasFilters=function(t){return t.filters instanceof Array&&0<t.filters.length||t.shadow instanceof createjs.Shadow},g.getOriginalFilters=function(t){return t.__originalFilters__||g.storeOriginalFilters(t),t.__originalFilters__},g.storeOriginalFilters=function(t){var e=t.filters||[];t.__originalFilters__={filters:e.map(function(t){return t.clone()}),shadow:t.shadow?t.shadow.clone():null}},g.isMovieClipStatic=function(t){return g.getWithNestedMovieClips(t).every(function(t){return t.totalFrames<=1})},g.getByInstanceType=function(t,e){return this.getWithNestedMovieClips(t).filter(function(t){return t instanceof e})},g.getCanvas=function(t){return window.globalStage.canvas},g.getCurrentCanvasSize=function(t){var e=this.getCanvas(t);if(e)return{width:Number(e.width),height:Number(e.height)}},g.getBaseCanvasSize=function(t){var e=this.getCanvas(t);if(e)return{width:Number(e.dataset.baseWidth||e.width),height:Number(e.dataset.baseHeight||e.height)}},g.getCanvasScale=function(t){var e=this.getBaseCanvasSize(t),n=this.getCurrentCanvasSize(t);return Math.round(n.width/e.width*100)/100},g.makeInvisible=function(t){var e=t.clone();g.uncache(t),(t.hitArea=e).x=t.regX,e.y=t.regY,t.children.filter(function(t){return t instanceof createjs.Shape}).forEach(function(t){return t.alpha=0})},g);function g(){}e.ClipUtils=n}),define("_modules/utils/position-utils",["require","exports","_modules/core/index","_modules/utils/clip-utils"],function(t,e,u,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.move=function(e,n){e!==undefined&&(this.item.x+=e),n!==undefined&&(this.item.y+=n),this.stickedItems.forEach(function(t){t.move(e,n)})},r.prototype.moveTo=function(e,n){var i=this;e!==undefined&&this.stickedItems.forEach(function(t){t.move(e-i.item.x)}),this.item.x=e,n!==undefined&&(this.stickedItems.forEach(function(t){t.move(n-i.item.y)}),this.item.y=n)},r.prototype.resetPosition=function(){this.item.x=this.originalPosition.x,this.item.y=this.originalPosition.y,this.stickedItems.forEach(function(t){t.resetPosition()})},r.prototype.getChainMarginX=function(){return this.chainMargin?this.chainMargin&&this.chainMargin.x?Number(this.chainMargin.x):Number(this.chainMargin)||0:0},r.prototype.getChainMarginY=function(){return this.chainMargin&&this.chainMargin.y?Number(this.chainMargin.y):0},r);function r(t,e,n){this.item=t,this.chainMargin=n,this.stickedItems=[],e&&(this.stickedItems=e),this.originalPosition={x:t.x,y:t.y}}e.PositionGroupItem=i;var o=(s.prototype.getCustomCenterX=function(t){return this.centerToBounds=u.BoundsUtils.getBounds(t),(this.centerToBounds.x+(this.centerToBounds.x+this.centerToBounds.width))/2},s.prototype.getCanvasCenterX=function(){var t=this.posItems[0].item;return n.ClipUtils.getBaseCanvasSize(t).width/2},s.prototype.getCenterX=function(){return null!==this.customCenterX?this.customCenterX:(null===this.centerX&&(this.centerX=this.getCanvasCenterX()),this.centerX)},s.prototype.renderLine=function(t,e){var n=new createjs.Shape((new createjs.Graphics).beginFill(e).drawRect(t-1,0,2,300));return n.alpha=.7,n},s.prototype.addItems=function(t){var e=this;return t.forEach(function(t){e.addItem(t)}),this},s.prototype.getItemAt=function(t){return this.posItems[t]},s.prototype.getItem=function(t){for(var e=0;e<this.posItems.length;e++)if(this.posItems[e].item.name===t)return this.posItems[e];return null},s.prototype.addItem=function(t){return this.posItems.push(t),this},s.prototype.resetPosition=function(){return this.posItems.forEach(function(t){t.resetPosition()}),this},s.prototype.move=function(e,n){return e!==undefined&&this.posItems.forEach(function(t){t.move(e)}),n!==undefined&&this.posItems.forEach(function(t){t.move(undefined,n)}),this},s.prototype.center=function(){var n=this,i=undefined,r=undefined;this.posItems.forEach(function(t){var e=n.getBounds(t);e!==undefined&&((i===undefined||i>e.x)&&(i=e.x),(r===undefined||r<e.x+e.width)&&(r=e.x+e.width))});var t=(i+r)/2,e=this.getCenterX()-t;return this.move(e),this},s.prototype.centerInParent=function(n){void 0===n&&(n=0);var t=this.posItems,e=this.posItems.map(function(t){return t.item.parent});if(!e.every(function(t){return t===e[0]}))throw"All items must have the same parent";var i=u.BoundsUtils.getBounds(e[0]).width/2,r=t.map(function(t){return u.BoundsUtils.getBounds(t.item)}).filter(function(t){return null!==t}),o=i-(r.reduce(function(t,e){return t+e.width},0)+n*(r.length-1))/2;return t.forEach(function(t){var e=u.BoundsUtils.getBounds(t.item);e&&(t.item.x=o,o+=e.width+n)}),this},s.prototype.chain=function(o){var s=this;void 0===o&&(o=0);var t=this.posItems[0].item.stage;t.update();var a=this.getBounds(this.posItems.filter(function(t){return t.item.visible})[0]).x;return this.posItems.forEach(function(t,e){if(t.item.visible){var n=s.getBounds(t);if(u.BoundsUtils.isDomLabel(t.item)&&u.BoundsUtils.getLabelBounds(t.item).width<n.width){var i=u.BoundsUtils.getLabelBounds(t.item),r=n.width/2;t.moveTo(a+r+(i.width/2-r))}else t.moveTo(a+n.width/2);t.getChainMarginX()&&(o=t.getChainMarginX()),a=a+n.width+o,t.chainMargin}}),t.update(),this},s.prototype.getBounds=function(t){return u.BoundsUtils.getBounds(t.item)},s);function s(t,e){var n=this;void 0===t&&(t=[]),this.centerX=null,this.customCenterX=null,this.posItems=[],t.forEach(function(t){t instanceof i?n.posItems.push(t):n.posItems.push(new i(t))}),this.posItems[0]&&this.posItems[0].item.stage.update(),e&&(this.customCenterX=this.getCustomCenterX(e))}e.PositionGroup=o}),define("_modules/utils/shuffler",["require","exports","_modules/utils/array-utils"],function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.incrementNextIndex=function(){this.nextIndex+=1,this.nextIndex>=this.items.length&&(this.nextIndex=0)},r.prototype.reset=function(){return this.items=__spread(this.originalArray),this.nextIndex=0,this},r.prototype.shuffle=function(){return this.reset(),this.items=n.ArrayUtils.shuffle(this.items),this},r.prototype.get=function(){var t=this.items[this.nextIndex];return this.incrementNextIndex(),t},r.prototype.getMany=function(t){for(var e=[],n=0;n<t;n++)e.push(this.get());return __spread(e)},r);function r(t,e){this.items=t,this.originalArray=__spread(t),this.config={},e&&(this.config=Object.assign(this.config,e))}e.Shuffler=i}),define("_modules/utils/clip-controller",["require","exports","_modules/utils/clip-utils"],function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={ignoreFrameErrors:!1,autoOverride:!0,cache:!1,ignoreClipScaleWhenCaching:!1,autoStopSounds:!0,soundFadeoutTime:500},r=(o.prototype.applyCache=function(e){n.ClipUtils.getWithNestedMovieClips(this.clip).filter(n.ClipUtils.isMovieClipStatic).forEach(function(t){return n.ClipUtils.smartCacheClip(t,{ignoreClipScale:e})})},o.prototype.uncache=function(){n.ClipUtils.getWithNestedMovieClips(this.clip).forEach(function(t){return n.ClipUtils.uncache(t)})},o.prototype.getFrameIndex=function(t){var e=Number.isInteger(Number(t))?Number(t):this.frameLabels[t];return this.validateFrame(t,e),e},o.prototype.getFrameRangeIndexes=function(t,e){var n=__read([t,e].map(this.getFrameIndex),2);return[n[0],n[1]]},o.prototype.validateFrame=function(t,e){if(!this.ignoreFrameErrors){if(e===undefined)throw new Error("Frame error: frame label '"+t+"' could not be found");if(e<0||e>=this.clip.timeline.duration)throw new Error("Frame error: the specified index ("+e+") is out of timeline bounds")}},o.prototype.removeTickListeners=function(){try{this.clip._listeners.tick=[]}catch(t){}},o.prototype.gotoAndStop=function(t){this.autoOverride&&this.stop({noFadeOut:!0});var e=this.getFrameIndex(t);this.clip.gotoAndStop(e)},o.prototype.gotoAndPlay=function(t){this.autoOverride&&this.stop({noFadeOut:!0});var e=this.getFrameIndex(t);this.clip.gotoAndPlay(e)},o.prototype.gotoAndPlayUntil=function(t,e){var n=this;this.autoOverride&&this.stop({noFadeOut:!0}),this.resetVolume();var i=__read(this.getFrameRangeIndexes(t,e),2),r=i[0],o=i[1];if(r!==undefined&&o!==undefined)return o<r?this.gotoAndPlayReverseUntil(t,e):new Promise(function(e,t){n.clip.gotoAndPlay(r),n.clip.on("tick",function(t){n.clip.currentFrame>=o&&(n.clip.stop(),n.stop(),t.remove(),e())}),n.resolutionTokens.push(e),n.rejectionTokens.push(t),n.cancellationTokens.push(function(){return n.removeTickListeners()})})},o.prototype.gotoAndPlayReverseUntil=function(n,t){var i=this;this.autoOverride&&this.stop({noFadeOut:!0}),this.resetVolume();var e=__read(this.getFrameRangeIndexes(n,t),2),r=e[0],o=e[1];if(r!==undefined&&o!==undefined)return r<o?this.gotoAndPlayUntil(n,t):new Promise(function(e,t){i.clip.gotoAndStop(n),i.clip.on("tick",function(t){i.clip.currentFrame<=o?(i.clip.stop(),i.stop(),t.remove(),e()):i.clip.gotoAndStop(i.clip.currentFrame-1)}),i.resolutionTokens.push(e),i.rejectionTokens.push(t),i.cancellationTokens.push(function(){return i.removeTickListeners()})})},o.prototype.gotoAndPlayUntilEnd=function(t){this.autoOverride&&this.stop({noFadeOut:!0});var e=this.clip.timeline.duration-1;return this.gotoAndPlayUntil(t,e)},o.prototype.playUntil=function(t){this.autoOverride&&this.stop({noFadeOut:!0});var e=this.clip.currentFrame;return this.gotoAndPlayUntil(e,t)},o.prototype.playUntilEnd=function(){this.autoOverride&&this.stop({noFadeOut:!0});var t=this.clip.timeline.duration-1;return this.playUntil(t)},o.prototype.loopBetween=function(t,e){var n=this;this.autoOverride&&this.reset();var i=__read(this.getFrameRangeIndexes(t,e),2),r=i[0],o=i[1];this.clip.gotoAndPlay(r),this.clip.on("tick",function(t){n.clip.currentFrame>=o&&n.clip.gotoAndPlay(r)}),this.stopLoop=function(){return n.removeTickListeners()}},o.prototype.play=function(){this.autoOverride&&this.stop(),this.clip.play()},o.prototype.stop=function(t){var e=(void 0===t?{noFadeOut:!1}:t).noFadeOut;this.cancelAll(),this.stopLoop(),this.clip.stop(),this.autoStopSounds&&this.stopSounds({noFadeOut:e})},o.prototype.resolveAll=function(){this.resolutionTokens.forEach(function(t){return t()}),this.resolutionTokens=[],this.rejectionTokens=[],this.cancellationTokens=[]},o.prototype.rejectAll=function(){this.rejectionTokens.forEach(function(t){return t()}),this.resolutionTokens=[],this.rejectionTokens=[],this.cancellationTokens=[]},o.prototype.cancelAll=function(){this.cancellationTokens.forEach(function(t){return t()}),this.resolutionTokens=[],this.rejectionTokens=[],this.cancellationTokens=[]},o.prototype.reset=function(){this.stop({noFadeOut:!0}),this.gotoAndStop(0),this.resetVolume()},o.prototype.stopSounds=function(t){var e=(void 0===t?{noFadeOut:!1}:t).noFadeOut;return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return Array.isArray(this.clip.sounds)?e?[3,2]:[4,this.fadeOutSounds()]:[2];case 1:t.sent(),t.label=2;case 2:return this.clip.sounds.forEach(function(t){t.instance&&t.instance.stop()}),[2]}})})},o.prototype.fadeOutSounds=function(){var n=this;return this.resetVolume(),this.fadeOutStartTime=performance.now(),this.fadeOutInterval=setInterval(function(){var t=performance.now()-n.fadeOutStartTime,e=Math.max(0,1-t/n.soundFadeOutTime);n.setVolume(e)},10),new Promise(function(t){return setTimeout(function(){clearInterval(n.fadeOutInterval),t()},n.soundFadeOutTime)})},o.prototype.resetVolume=function(){this.fadeOutInterval&&clearInterval(this.fadeOutInterval),this.setVolume(1)},o.prototype.setVolume=function(e){this.clip.sounds.forEach(function(t){t.instance&&(t.instance.volume=e)})},o.prototype.stopSound=function(e){if(Array.isArray(this.clip.sounds)){var t=this.clip.sounds.find(function(t){return t.id===e});t.instance&&t.instance.stop()}},o.prototype.setVisible=function(t){void 0===t&&(t=!0),this.clip.visible=t},o.prototype.setHidden=function(t){void 0===t&&(t=!0),this.clip.visible=!t},o.prototype.getClip=function(){return this.clip},o.prototype.removeFromParent=function(){this.clip.parent&&this.clip.parent.removeChild(this.clip)},o);function o(t,e){void 0===e&&(e={}),this.stopLoop=function(){};var n=__assign(__assign({},i),e);this.ignoreFrameErrors=n.ignoreFrameErrors,this.autoOverride=n.autoOverride,this.autoStopSounds=n.autoStopSounds,this.soundFadeOutTime=n.soundFadeoutTime,this.clip=t,this.sounds=t.sounds,this.resolutionTokens=[],this.rejectionTokens=[],this.cancellationTokens=[],this.frameLabels=__assign({},t.timeline._labels),this.clip.gotoAndStop(0),this.getFrameIndex=this.getFrameIndex.bind(this),n.cache&&this.applyCache(n.ignoreClipScaleWhenCaching),this.stopSounds({noFadeOut:!0})}e.ClipController=r}),define("_modules/utils/TweenHelper",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i.calculateCenterVector=function(t,e){var n={x:t,y:e};return n.x=t<220?220:400,n.y=e<320?400:300,n},i.calculateRotationMod=function(t){return 270<t?-1:1},i.calculateOrientationBack=function(t,e){return t<270&&e<0||270<t&&0<e?1:0},i.calculateOrientationForward=function(t,e){return t<270&&e<0||270<t&&0<e?0:1},i.renderPropsFromConfig=function(t,r){return t.forEach(function(t){var e=t.duration,n=t.ease,i=t.props;return r.to(i,e,n)}),r},i.tweenToPromise=function(e){return new Promise(function(t){return e.call(t)})},i);function i(){}e.TweenHelper=n}),define("_modules/utils/ClipsHelper",["require","exports","_modules/utils/array-utils"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.shuffle=function(t){var n=t.map(function(t){return{x:t.x,y:t.y}});return(t=i.ArrayUtils.shuffle(t)).forEach(function(t,e){t.x=n[e].x,t.y=n[e].y}),t},r);function r(){}e.ClipsHelper=n}),define("_modules/utils/number-utils",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i.convertToArabic=function(t){t=t.toUpperCase();var e=0,n=0;for(var i in this.romanList)for(n=t.indexOf(this.romanList[i]);-1!=n;)e+=this.decimalList[i],n=(t=t.replace(this.romanList[i],"-")).indexOf(this.romanList[i]);return e},i.convertToRoman=function(t){var e="";for(var n in this.romanList){if(t===this.romanList[n])return e+n;t>this.romanList[n]&&(e+=n.repeat(Math.floor(t/this.romanList[n])),t%=this.romanList[n])}return e},i.decimalList=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],i.romanList={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},i);function i(){}e.NumberUtils=n}),define("_modules/utils/index",["require","exports","_modules/utils/array-utils","_modules/utils/dom-utils","_modules/utils/geom-utils","_modules/utils/math-converter","_modules/utils/math-utils","_modules/utils/position-utils","_modules/utils/shuffler","_modules/utils/clip-utils","_modules/utils/clip-controller","_modules/utils/TweenHelper","_modules/utils/ClipsHelper","_modules/utils/number-utils"],function(t,n,e,i,r,o,s,a,u,c,l,h,f,p){"use strict";function d(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),d(e),d(i),d(r),d(o),d(s),d(a),d(u),d(c),d(l),d(h),d(f),d(p)}),define("_base/autocacher",["require","exports","rxjs","_modules/utils/index"],function(t,e,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=function(t,e){if(!t.length)return[];var n=t.slice(0,e),i=t.slice(e);return __spread([n],c(i,e))},n=(l.prototype.cache=function(){var t=this.getCachingList(),n=t.length;console.timeStamp,this.debugOptions.listCachedClips;var e=Math.max(1,t.length/100),i=c(t,e),r=0,o=0;window.globalRoot.stage.removeAllEventListeners();var s=createjs.Ticker.framerate;return createjs.Ticker.framerate=0,new a.Observable(function(t){var e=function(){o===i.length?(console.timeStamp,createjs.Ticker.framerate=s,t.complete()):Promise.all(i[o].map(function(t){return t.cache()})).then(function(){r+=i[o].length,t.next(r/n),o++,setTimeout(function(){return e()})})};e()})},l.prototype.getCachingList=function(){var t=this,e=t.rootClip,n=t.excluded,i=t.included,r=t.forced,o=t.globalScaleModifier,s=t.scaleModifierDictionary,a=t.debugOptions;return(this.attemptToCacheAll?l.cacheAllClips(e,n,i,r):l.cacheClips(e,i,r)).map(function(t){return{depth:u.ClipUtils.getDepth(t),clip:t,cache:function(){return l.cacheSingleClip(e,t,o,s,a)}}}).sort(function(t,e){return e.depth-t.depth})},l.getWithoutScale=function(t){return t.map(function(t){return t instanceof Array?t[0]:t})},l.getScaleDictionary=function(t){return t.filter(function(t){return t instanceof Array}).map(function(t){var e=__read(t,2);return{clip:e[0],scale:e[1]}}).reverse()},l.getScaleFromDictionary=function(t,n,e){return u.ClipUtils.getWithParents(e).map(function(e){var t=n.find(function(t){return t.clip===e||t.clip instanceof Function&&e instanceof t.clip});return t?t.scale:1}).reduce(function(t,e){return t*e},1)},l.cacheAllClips=function(e,t,n,i){var r=l.getExcludedClips(e,t),o=n.map(function(t){return t instanceof createjs.MovieClip?[t]:u.ClipUtils.getByInstanceType(e,t)}).reduce(function(t,e){return t.concat(e)},[]).map(function(t){return u.ClipUtils.getWithNestedMovieClips(t)}).reduce(function(t,e){return t.concat(e)},[]).filter(u.ClipUtils.isMovieClipStatic),s=i.map(function(t){return t instanceof createjs.MovieClip?[t]:u.ClipUtils.getByInstanceType(e,t)}).reduce(function(t,e){return t.concat(e)},[]),a=u.ArrayUtils.unique(u.ClipUtils.getWithNestedMovieClips(e).filter(function(t){return!r.includes(t)}).filter(u.ClipUtils.isMovieClipStatic));return u.ArrayUtils.unique(a.filter(function(t){return u.ClipUtils.hasFilters(t)||(e=t,n=a,!u.ClipUtils.getWithParents(e).slice(1).some(function(t){return n.includes(t)}));var e,n}).concat(o).concat(s))},l.getExcludedClips=function(t,e){var n=u.ClipUtils.getWithNestedMovieClips(t),i=n.filter(u.ClipUtils.isMovieClipStatic),r=e.filter(function(t){return t instanceof createjs.MovieClip}).map(function(t){return u.ClipUtils.getWithNestedMovieClips(t)}).reduce(function(t,e){return t.concat(e)},[]).map(function(t){return u.ClipUtils.getWithParents(t)}).reduce(function(t,e){return t.concat(e)},[]),o=e.filter(function(t){return t instanceof Function}),s=n.filter(function(e){return o.some(function(t){return e instanceof t})}).map(function(t){return u.ClipUtils.getWithNestedMovieClips(t)}).reduce(function(t,e){return t.concat(e)},[]).map(function(t){return u.ClipUtils.getWithParents(t)}).reduce(function(t,e){return t.concat(e)},[]);return i.filter(function(t){return r.includes(t)||s.includes(t)})},l.cacheClips=function(e,t,n){var i=t.map(function(t){return t instanceof createjs.MovieClip?[t]:u.ClipUtils.getByInstanceType(e,t)}).reduce(function(t,e){return t.concat(e)},[]).map(u.ClipUtils.getWithNestedMovieClips).reduce(function(t,e){return t.concat(e)},[]).filter(u.ClipUtils.isMovieClipStatic),r=n.map(function(t){return t instanceof createjs.MovieClip?[t]:u.ClipUtils.getByInstanceType(e,t)}).reduce(function(t,e){return t.concat(e)},[]);return u.ArrayUtils.unique(i.concat(r))},l.cacheSingleClip=function(t,e,n,i,r){r.showCachedClips&&(e.filters=[new createjs.ColorFilter(1,.2,.2,1,0,0,0,0)]);var o=l.getScaleFromDictionary(t,i,e)||1;return u.ClipUtils.smartCacheClip(e,{customScale:n*o})},l);function l(t){this.attemptToCacheAll=t.attemptToCacheAll,this.globalScaleModifier=t.globalScaleModifier,this.excluded=t.exclude,this.forced=t.force,this.debugOptions=t.debug,this.rootClip=t.root,this.scaleModifierDictionary=l.getScaleDictionary(t.include);var e=l.getWithoutScale(t.include),n=__spread(u.ClipUtils.getAllClipsWithFilters(t.root));this.included=u.ArrayUtils.unique(__spread(e,n))}e.Autocacher=n}),define("_base/base-exercise",["require","exports","_base/xmljs","_base/autocacher","_modules/utils/index"],function(t,e,n,p,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,d={canvasImageSmoothing:!1,stopAllClips:!0,disableMouseForAllClips:!1,enableMouse:[],autoCache:!1,autoCacheScale:1,enableCache:[],disableCache:[],forceCache:[],debug:{listCachedClips:!1,showCachedClips:!1}},o=(g.prototype.onCheckReady=function(t){},g.prototype.setNotifyAnswer=function(t){this.notifyAnswer=t},g.prototype.setNotifyCheck=function(t){this.notifyCheck=t},g.prototype.setCheckReadiness=function(t){this.isReadyForCheck=t,this.onCheckReady(t)},g.prototype.getCheckReadiness=function(){return this.isReadyForCheck},g.prototype.triggerCheck=function(){this.isReadyForCheck&&this.checkExercise()},g.prototype.cache=function(){return this.autocacher.cache()},g.disableMouseForAllClips=function(t){r.ClipUtils.getWithNestedMovieClips(t).forEach(function(t){return t.mouseEnabled=t.mouseChildren=!1})},g.enableMouse=function(e,t){var n=t.filter(function(t){return t instanceof createjs.MovieClip}),i=t.filter(function(t){return t instanceof Function}).map(function(t){return r.ClipUtils.getByInstanceType(e,t)}).reduce(function(t,e){return t.concat(e)},[]);n.concat(i).map(function(t){return r.ClipUtils.getWithNestedMovieClips(t)}).reduce(function(t,e){return t.concat(e)},[]).map(function(t){return r.ClipUtils.getWithParents(t)}).reduce(function(t,e){return t.concat(e)},[]).forEach(function(t){return t.mouseEnabled=t.mouseChildren=!0})},g.prototype.setCanvasImageSmoothing=function(){var n=this.canvasImageSmoothing;Object.values(this.layers).forEach(function(t){var e=t.canvas.getContext("2d");e.webkitImageSmoothingEnabled=n,e.mozImageSmoothingEnabled=n,e.imageSmoothingEnabled=n})},g.prototype.setLayers=function(t){this.layers=t,this.setCanvasImageSmoothing()},g.prototype.stopAllClips=function(t){!function e(t){t.gotoAndStop&&t.gotoAndStop(0),t.children&&t.children.forEach(function(t){return e(t)})}(t)},g.prototype.setEventEmitter=function(t){this.eventEmitter=t},g.prototype.setSubsteps=function(t){this.substeps=t,this.currentSubstep=0},g.prototype.incrementSubstep=function(){this.currentSubstep++},g.prototype.getCurrentSubstep=function(){return this.currentSubstep},g.prototype.getTotalSubsteps=function(){return this.substeps},g.prototype.isFinalSubstep=function(){return this.currentSubstep===this.substeps-1},g.prototype.initialize=function(){throw new Error("Method not implemented.")},g.prototype.nextStep=function(){throw new Error("Method not implemented.")},g.prototype.nextSubstep=function(){},g.prototype.sameStep=function(){},g.prototype.sameSubstep=function(){},g.prototype.checkExercise=function(){throw new Error("Method not implemented.")},g.prototype.checkSubstep=function(){},g.prototype.reset=function(){throw new Error("Method not implemented.")},g.prototype.dispose=function(){},g.prototype.beforeCorrectAnswer=function(){},g.prototype.beforeWrongAnswer=function(){},g.prototype.beforeFinalAnswer=function(){},g.prototype.afterCorrectAnswer=function(){},g.prototype.afterWrongAnswer=function(){},g.prototype.afterFinalAnswer=function(){},g.prototype.setLocked=function(t){},g.prototype.setLockedFlag=function(t){this.isLocked=t},g.prototype.setPoolXml=function(t){this.pool=n.xml2js(t).elements[0]},g.prototype.setLocaleDictionary=function(t){this.localeDictionary=t},g.prototype.setLocale=function(t){this.locale=t},g.prototype.setCurrentPoolIndex=function(t){this.currentPoolIndex=t},g.prototype.setCurrentPoolItemIndex=function(t){this.currentPoolItemIndex=t},g.prototype.setCurrentSemaphore=function(t){this.currentSemaphore=t},g.prototype.getPoolMeta=function(){return this.pool.elements.filter(function(t){return"meta"===t.name})[0]},g.prototype.getPool=function(){return this.pool},g.prototype.getPoolElements=function(){return this.pool.elements.filter(function(t){return"pool"===t.name})},g.prototype.getCurrentPoolItem=function(){return this.getPoolElements()[this.currentPoolIndex].elements[this.currentPoolItemIndex]},g.prototype.getCurrentPool=function(){return this.getPoolElements()[this.currentPoolIndex]},g.prototype.isSemaphoreLast=function(){return this.getCurrentSemaphore()+1===this.getNumSemaphores()},g.prototype.getNumSemaphores=function(){var e=0;return this.getPoolElements().forEach(function(t){e+=+t.attributes.attempt}),e},g.prototype.getCurrentSemaphore=function(){return this.currentSemaphore},g.prototype.getLangEntry=function(t){return this.localeDictionary.hasOwnProperty(t)?this.localeDictionary[t]:""},Object.defineProperty(g.prototype,"poolItemAttrs",{get:function(){return this.getCurrentPoolItem().attributes},enumerable:!0,configurable:!0}),g.prototype.setActiveSubStepInstruction=function(t){this.subInstruction=t},g.prototype.getActiveSubStepInstruction=function(){return this.subInstruction},g.prototype.setActiveSubStepInstructionAudio=function(t){this.subInstructionAudio=t},g.prototype.getActiveSubStepInstructionAudio=function(){return this.subInstructionAudio},g);function g(t,e){this.currentPoolIndex=0,this.currentPoolItemIndex=0,this.currentSemaphore=0,this.isLocked=!1,this.isReadyForCheck=!1;var n=__assign(__assign({},d),e),i=n.stopAllClips,r=n.disableMouseForAllClips,o=n.enableMouse,s=n.autoCache,a=n.autoCacheScale,u=n.enableCache,c=n.disableCache,l=n.forceCache,h=n.debug,f=n.canvasImageSmoothing;this.canvasImageSmoothing=f,i&&this.stopAllClips(t),this.autocacher=new p.Autocacher({root:t,attemptToCacheAll:s,globalScaleModifier:a,include:u,exclude:c,force:l,debug:h}),r&&(g.disableMouseForAllClips(t),g.enableMouse(t,o))}e.BaseExercise=o,__extends(function(){return null!==i&&i.apply(this,arguments)||this},i=o)}),define("_modules/DnD2/Engine/Config",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define("_modules/DnD2/Engine/defaultConfig",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={onDrag:function(){},onDragMove:function(){},onDrop:function(){},onDropBeforeSnap:function(){},onDropAfterTween:function(){},onChange:function(){},onStable:function(){},onReset:function(){},animationsEasing:createjs.Ease.sineInOut,animationsSpeed:1,animations:!0,snapSpeed:1,cloneItems:!1,dragLayer:null,animationLayers:null,baseLayer:null,dragFromSlots:!0,dragItems:[],slots:[]};e.defaultConfig=n}),define("_modules/DnD2/Engine/Engine",["require","exports","_modules/DnD2/index","_modules/utils/index","_modules/DnD2/Engine/defaultConfig"],function(t,e,o,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(Object.defineProperty(s.prototype,"cloneItems",{set:function(t){this.config.cloneItems=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isStable",{get:function(){return Promise.all(this.config.dragItems.map(function(t){return t.pendingAnimation}))},enumerable:!0,configurable:!0}),s.prototype.getAllSlots=function(){return this.config.slots},s.prototype.getAllDragItems=function(){return this.config.dragItems},s.prototype.getSlotsByGroup=function(e){return this.config.slots.filter(function(t){return t.group===e})},s.prototype.getNearestSlotByGroup=function(t,n){var e=this.getSlotsByGroup(t).sort(function(t,e){return t.getDistanceFrom(n)-e.getDistanceFrom(n)}),i=e[0];return e.filter(function(t){return!t.isOccupied})[0]||i},s.prototype.getNextFreeSlotByGroup=function(t){return this.getSlotsByGroup(t).filter(function(t){return!t.isOccupied}).sort(function(t,e){return t.index-e.index})[0]},s.prototype.groupHasFreeSlot=function(t){return this.getSlotsByGroup(t).some(function(t){return!t.isOccupied})},s.prototype.findSlot=function(e){var t=this.config.slots.find(function(t){return t.testDrop(e)});return t?t.isLocked?null:t.isPartOfGroup?t.isIndexed&&this.groupHasFreeSlot(t.group)?this.getNextFreeSlotByGroup(t.group):this.getNearestSlotByGroup(t.group,e):t:null},s.prototype.dropItemToSlot=function(t,e){if(!(e instanceof o.DnD.Slot))throw new Error("Target slot must be an instance of the DnD.Slot");var n=e.getDragItem();e.isOccupied&&this.switchElementsBetweenSlots(n),this.config.animations?t.tweenToSlot(e):t.attachToSlot(e),e.setDragItem(t)},s.prototype.dropItemToUnlimitedSlot=function(t,e){if(!(e instanceof o.DnD.MultiSlot))throw new Error("Target slot must be an instance of the DnD.MultiSlot");this.config.animations?t.tweenToSlot(e):t.attachToSlot(e),e.addDragItem(t)},s.prototype.switchElementsBetweenSlots=function(t){this.activeDragItem.attachedSlot?this.dropItemToSlot(t,this.activeDragItem.attachedSlot):t.tweenToBasePosition()},s.prototype.setLocked=function(e){var t=this.activeDragItem;if(t){var n=t.attachedSlot;n&&(n instanceof o.DnD.MultiSlot?n.removeDragItem(t):n.setDragItem(null)),t.tweenToBasePosition()}this.activeDragItem=null,this.config.dragItems.forEach(function(t){return t.setLocked(e)})},s.prototype.reset=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.activeDragItem=null,[4,Promise.all(__spread(this.config.dragItems.map(function(t){return t.reset()}),[this.config.slots.forEach(function(t){return t.reset()})])).then(function(){return e.config.onReset()})];case 1:return t.sent(),[2]}})})},s.prototype.addDragItem=function(t){t.attachDndEngine(this,this.onDragStart,this.config.dragLayer,this.config.animationLayers,this.config.baseLayer,this.config),this.config.dragItems.push(t),this.validateDragItems()},s.prototype.addDragItems=function(t){var e=this;t.forEach(function(t){return t.attachDndEngine(e,e.onDragStart,e.config.dragLayer,e.config.animationLayers,e.config.baseLayer,e.config)}),this.config.dragItems=__spread(this.config.dragItems,t),this.validateDragItems()},s.prototype.addSlot=function(t){this.config.slots.push(t),this.validateSlots()},s.prototype.addSlots=function(t){this.config.slots=__spread(this.config.slots,t),this.validateSlots()},s.prototype.validateSlots=function(){var n=this.config.slots.map(function(t){return{group:t.group,indexWithinGroup:t.index,hitArea:t.hitArea}}).reduce(function(t,e){var n=e.group;return t[n]=(t[n]||[]).concat(e),t},{}),t=function(t){var e=n[t];if(1<e.length&&!e.every(function(t){return t.hitArea==e[0].hitArea}))throw new Error("All slots in a group must have the same `hitArea`")};for(var e in n)t(e);this.config.slots.forEach(function(t){if(i.ClipUtils.getWithParents(t.item).some(function(t){return t.cacheCanvas}))throw new Error("Slot and his parents must be uncached")})},s.prototype.validateDragItems=function(){this.config.dragItems.forEach(function(t){var e=t.item;if(i.ClipUtils.getWithParents(e).some(function(t){return t.cacheCanvas}))throw new Error("Draging item and his parents must be uncached")})},s.prototype.removeDragItem=function(t){var n=this.config.dragItems.indexOf(t);this.config.dragItems=this.config.dragItems.filter(function(t,e){return e!==n}),t.isCloned||t.detachDndEngine(),this.validateDragItems()},s.prototype.removeDragItems=function(){this.config.dragItems.forEach(function(t){return t.detachDndEngine()}),this.config.dragItems=[]},s.prototype.removeSlots=function(){this.config.slots.forEach(function(t){return t.reset()}),this.config.slots=[]},s.prototype.getSlotsValue=function(){return this.config.slots.map(function(t){return t.value})},Object.defineProperty(s.prototype,"allSlotsOccuppied",{get:function(){return this.config.slots.every(function(t){return t.isOccupied})},enumerable:!0,configurable:!0}),s.prototype.triggerDrop=function(t,e,n){void 0===n&&(n=!0),t.tweenToSlot(e)},s);function s(t){var r=this;void 0===t&&(t={}),this.activeDragItem=null,this.onMouseMove=function(t){if(t.preventDefault(),r.activeDragItem){var e=new o.DnD.Point(t.localX,t.localY);r.activeDragItem.moveTo(e,{immediate:!0}),r.config.onDragMove(r.activeDragItem)}},this.onMouseUp=function(t){if(r.activeDragItem){var e=r.activeDragItem,n=r.findSlot(e),i=r.config.onDropBeforeSnap(e,n);if("boolean"==typeof i&&!i)return r.config.animations?e.tweenToBasePosition():e.attachToOriginalParent(),void(r.activeDragItem=null);n?n instanceof o.DnD.MultiSlot?r.dropItemToUnlimitedSlot(e,n):r.dropItemToSlot(e,n):r.config.animations?e.tweenToBasePosition():e.attachToOriginalParent(),r.config.onChange(r.allSlotsOccuppied,r),e.pendingAnimation.then(function(){r.config.onDrop(e,n),r.config.onDropAfterTween(e)}),r.activeDragItem=null}},this.onDragStart=function(t,e){var n=(r.activeDragItem=t).attachedSlot;n&&(n instanceof o.DnD.MultiSlot?n.removeDragItem(t):n.setDragItem(null)),r.config.onDrag(t),r.config.onChange(r.allSlotsOccuppied,r)},this.config=__assign(__assign({},n.defaultConfig),t),createjs.Touch.enable(this.config.dragLayer.stage,!1,!0),this.config.animationLayers.forEach(function(t){var e=t.stage;createjs.Touch.enable(e,!1,!0)}),createjs.Touch.enable(this.config.baseLayer.stage,!1,!0),this.config.dragLayer.stage.on("stagemousemove",this.onMouseMove),this.config.dragLayer.stage.on("touchmove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("pointerup",this.onMouseUp),document.addEventListener("touchend",this.onMouseUp),document.addEventListener("mouseleave",this.onMouseUp),document.addEventListener("pointerleave",this.onMouseUp)}e.Engine=r}),define("_modules/DnD2/Engine/index",["require","exports","_modules/DnD2/Engine/Engine"],function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(e)}),define("_modules/DnD2/Point",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i.prototype.offsetBy=function(t){return new i(this.x-t.x,this.y-t.y)},i);function i(t,e){"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y)}e.Point=n}),define("_modules/DnD2/DragItem/Config",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define("_modules/DnD2/DragItem/defaultConfig",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultConfig={data:null,onBeforeTweenToBasePosition:function(){},onAfterTweenToBasePosition:function(){},onBeforeTweenToSlot:function(){},onAfterTweenToSlot:function(){}}}),define("_modules/DnD2/DragItem/DragItem",["require","exports","_modules/DnD2/index","_modules/DnD2/Point","_modules/DnD2/DragItem/defaultConfig"],function(t,e,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(Object.defineProperty(l.prototype,"isCloned",{get:function(){return this.state.isCloned},set:function(t){this.state.isCloned=t},enumerable:!0,configurable:!0}),l.prototype.setAttachedSlot=function(t){this._attachedSlot=t},Object.defineProperty(l.prototype,"attachedSlot",{get:function(){return this._attachedSlot},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"attachedToSlot",{get:function(){return!!this._attachedSlot},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){return this.config.data},set:function(t){this.config.data=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"item",{get:function(){return this._item},set:function(t){this._item=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isLocked",{get:function(){return this.state.isLocked},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isAnimation",{set:function(t){this.state.isAnimating=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isAnimating",{get:function(){return this.state.isAnimating},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isInOriginalParent",{get:function(){return this.item.parent===this.originalParent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stagePosition",{get:function(){if(this.item.parent instanceof createjs.Stage)return new u.DnD.Point(this.item.parent.localToLocal(this.item.x,this.item.y,this.item.parent.stage));var t=new u.DnD.Point(this.item.parent.localToLocal(this.item.x,this.item.y,this.item.parent.stage));return new u.DnD.Point(t)},enumerable:!0,configurable:!0}),l.prototype.setLocked=function(t){this.item.cursor=t?"auto":"pointer",this.state.isLocked=t},l.prototype.reset=function(){var t=this;return createjs.Tween.removeTweens(this.item),this.whenStable(function(){}),this.attachToBaseLayer(),new Promise(function(i){return t.baseLayer.stage.on("tick",function(){return __awaiter(t,void 0,void 0,function(){var e,n=this;return __generator(this,function(t){switch(t.label){case 0:return this.originalParent.addChild(this.item),e=this.baseLayer.stage.localToLocal(this.originalPosition.x,this.originalPosition.y,this.originalParent),this.item.x=e.x,this.item.y=e.y,[4,new Promise(function(t){n.originalParent.on("tick",function(){return t()},null,!0)})];case 1:return t.sent(),this.setAttachedSlot(null),this.isCloned&&this.destroy(),i(),[2]}})})},null,!0)})},l.prototype.destroy=function(){this.getDomElements().forEach(function(t){return t.remove()}),this.dndEngine.removeDragItem(this),this.item.removeAllEventListeners(),this.item.parent&&this.item.parent.removeChild(this.item)},l.prototype.clone=function(){var t=this.item.clone();this.baseLayer.stage.addChild(t);var e=(this.item.children||[]).filter(function(t){return t._element}).map(function(t){return t._element})[0];if(!e)throw new Error("Cloneable drag items should contain DOMLabel");var n=(t.children||[]).filter(function(t){return t._element}).map(function(t){return t._element})[0],i=e._element.get(0).cloneNode(!0),r=n._element;r.get(0).innerHTML="",r.append(i.querySelector("*")),r.get(0).className=e._element.get(0).className;var o=e._element.get(0).style,s=r.get(0).style;try{for(var a in o)!/^[0-9]/.test(o[a])&&"transform"!==a&&o[a]&&(s[a]=o[a])}catch(c){Object.entries(o).forEach(function(t){var e=__read(t,2),n=e[0],i=e[1];!/^[0-9]/.test(n)&&"transform"!==n&&i?s[n]=i:"font-size"===o[n]&&(s["font-size"]=o["font-size"])})}window.parent.clonedStyle=s,t.set(__assign({},this.originalPosition));var u=new l(window.parent.cloned=t,__assign({},this.config));return this.dndEngine.addDragItem(u),u.isCloned=!0,u},l.prototype.attachDndEngine=function(t,e,n,i,r,o){if(this.dndEngine&&this.dndEngine!==t)throw new Error("Attempted to use a single slot with multiple DnD engines");this.dndEngine=t,this.onDragStart=e,this.dragLayer=n,this.animationLayers=i,this.baseLayer=r,this.engineConfig=o,this.originalPosition=new s.Point(this.item.parent.localToLocal(this.item.x,this.item.y,this.item.parent.stage))},l.prototype.detachDndEngine=function(){this.item.cursor="default",this.dndEngine=null,this.onDragStart=function(){},this.dragLayer=null,this.animationLayers=null},l.prototype.attachToDragLayer=function(){var t,e=this;t=new u.DnD.Point(e.item.parent.localToLocal(e.item.x,e.item.y,e.dragLayer.stage)),e.dragLayer.stage.addChild(e.item),e.moveTo(t,{applyOffset:!1,immediate:!0}),e.getDomElements().forEach(function(t){return e.dragLayer.domOverlay.appendChild(t)})},l.prototype.attachToAnimationLayer=function(t){var e=this,n={BOTTOM:0,TOP:1}[t],i=this.animationLayers[n];this.baseLayer.stage.on("tick",function(){var t=new u.DnD.Point(e.item.parent.localToLocal(e.item.x,e.item.y,i.stage));i.stage.addChild(e.item),e.moveTo(t,{applyOffset:!1,immediate:!0}),e.getDomElements().forEach(function(t){return i.domOverlay.appendChild(t)})},null,!0)},l.prototype.attachToBaseLayer=function(){var e=this;this.baseLayer.stage.on("tick",function(){e.baseLayer.stage.addChild(e.item),e.getDomElements().forEach(function(t){return e.baseLayer.domOverlay.appendChild(t)})},null,!0)},l.prototype.getWithChildren=function(){var e=function(t){return Array.isArray(t.children)?__spread([t],t.children.map(e).reduce(function(t,e){return t.concat(e)},[])):[t]};return e(this.item)},l.prototype.getDomElements=function(){return this.getWithChildren().map(function(t){return t._element}).filter(Boolean).map(function(t){return t._element.get(0)})},l.prototype.whenStable=function(t){this.whenStableCallback=t},l.prototype.moveTo=function(t,e){var n=this,i=t.x,r=t.y;void 0===e&&(e={});var o=__assign(__assign({},{applyOffset:!0,immediate:!1}),e),s=o.applyOffset,a=function(){var t=s?n.dragOffset:new u.DnD.Point(0,0);n.item.x=i-t.x,n.item.y=r-t.y};o.immediate?a():this.baseLayer.stage.on("tick",a,null,!0)},l.prototype.tweenTo=function(t,e,n){var i=this,r=t.x,o=t.y;void 0===e&&(e=this.engineConfig.animationsSpeed),void 0===n&&(n=this.engineConfig.animationsEasing);var s=r-this.stagePosition.x,a=o-this.stagePosition.y,u=Math.sqrt(s*s+a*a)/e;return createjs.Tween.removeTweens(this.item),new Promise(function(t){return i.item.stage.on("tick",function(){return createjs.Tween.get(i.item,{override:!0}).to({x:r,y:o},u,n).call(t)},null,!0)})},l.prototype.tweenToSlot=function(n){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.attachToAnimationLayer("TOP"),this.config.onBeforeTweenToSlot(this,n),this.whenStable(function(){e.attachToBaseLayer(),e.attachToSlot(n),e.config.onAfterTweenToSlot(e,n)}),this.startPendingAnimation(),[4,this.tweenTo(n instanceof u.DnD.MultiSlot?this.stagePosition:n.stagePosition)];case 1:return t.sent(),this.whenStableCallback(),this.resolvePendingAnimation(),[2]}})})},l.prototype.tweenToBasePosition=function(){return __awaiter(this,void 0,void 0,function(){var e,n=this;return __generator(this,function(t){switch(t.label){case 0:return e=this.isLocked,this.setLocked(!0),this.attachToAnimationLayer("BOTTOM"),this.config.onBeforeTweenToBasePosition(this),this.whenStable(function(){n.attachToBaseLayer(),n.attachToOriginalParent(),n.setLocked(e),n.setAttachedSlot(null),n.config.onAfterTweenToBasePosition(n)}),this.startPendingAnimation(),[4,this.tweenTo(this.originalPosition)];case 1:return t.sent(),this.whenStableCallback(),this.resolvePendingAnimation(),[2]}})})},l.prototype.getSlotSnapPosition=function(t){if(t instanceof u.DnD.MultiSlot){var e=this.baseLayer.stage.localToLocal(this.stagePosition.x,this.stagePosition.y,t.item),n=e.x,i=e.y;return new u.DnD.Point(n,i)}return new u.DnD.Point(0,0)},l.prototype.attachToSlot=function(i){var r=this;this.setAttachedSlot(i),this.baseLayer.stage.on("tick",function(){var t=r.getSlotSnapPosition(i),e=t.x,n=t.y;r.item.set({x:e,y:n}),i.item.addChild(r.item)},null,!0)},l.prototype.attachToOriginalParent=function(){var e=this;this.baseLayer.stage.on("tick",function(){var t=e.baseLayer.stage.localToLocal(e.originalPosition.x,e.originalPosition.y,e.originalParent);e.item.x=t.x,e.item.y=t.y,e.originalParent.addChild(e.item),e.isCloned&&e.destroy()},null,!0)},l);function l(t,e){var r=this;void 0===e&&(e={}),this.onDragStart=function(){},this.dndEngine=null,this.state={isCloned:!1,isLocked:!1,isAnimating:!1},this.whenStableCallback=function(){},this.startPendingAnimation=function(){r.pendingAnimation=new Promise(function(t){return r.pendingAnimationResolutionToken=t})},this.pendingAnimation=Promise.resolve(),this.pendingAnimationResolutionToken=function(){},this.resolvePendingAnimation=function(){return r.pendingAnimationResolutionToken()},this.onMouseDown=function(t){if(r.dndEngine&&!r.state.isLocked){var e=r;if(r.engineConfig.cloneItems&&!r.state.isCloned)return(e=r.clone()).onMouseDown(t),void r.onDragStart(e,r.dragOffset);var n=new u.DnD.Point(e.item.parent.localToLocal(e.item.x,e.item.y,e.item.parent.stage)),i=new u.DnD.Point(e.item.localToLocal(t.localX,t.localY,e.item.parent.stage));r.dragOffset=i.offsetBy(n),r.attachToDragLayer(),r.onDragStart(e,e.dragOffset)}},this.item=t,this.config=__assign(__assign({},n.defaultConfig),e),t.mouseChildren=!1,this.originalPosition=this.stagePosition,this.originalParent=t.parent,t.on("mousedown",this.onMouseDown),t.on("pointerdown",this.onMouseDown),t.on("touchstart",this.onMouseDown),this.setLocked(!1)}e.DragItem=i}),define("_modules/DnD2/DragItem/index",["require","exports","_modules/DnD2/DragItem/DragItem"],function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(e)}),define("_modules/DnD2/Slot/Config",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define("_modules/DnD2/Slot/Slot",["require","exports","_modules/DnD2/index"],function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.reset=function(){this.dragItem&&this.dragItem.reset(),this.dragItem=null},Object.defineProperty(r.prototype,"isLocked",{get:function(){return this._setLocked},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"setLocked",{set:function(t){this._setLocked=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"stagePosition",{get:function(){var t=new n.DnD.Point(this.item.parent.localToLocal(this.item.x,this.item.y,this.item.parent.stage));return new n.DnD.Point(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isOccupied",{get:function(){return null!==this.getDragItem()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPartOfGroup",{get:function(){return null!==this.group},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hitArea",{get:function(){return this._hitArea},set:function(t){this._hitArea=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isIndexed",{get:function(){return null!==this.indexWithinGroup},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this.indexWithinGroup},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.isOccupied?this.dragItem.data:null},enumerable:!0,configurable:!0}),r.prototype.getDistanceFrom=function(t){var e=this.stagePosition.x-t.stagePosition.x,n=this.stagePosition.y-t.stagePosition.y;return Math.sqrt(e*e+n*n)},r.prototype.testDrop=function(t){var e=t.stagePosition,n=this.hitArea||this.item,i=n.stage.localToLocal(e.x,e.y,n);return n.hitTest(i.x,i.y)},r.prototype.setDragItem=function(t){this.dragItem=t},r.prototype.getDragItem=function(){return this.dragItem},r.prototype.attachDragItem=function(t){return null},r);function r(t,e){void 0===e&&(e={}),this.item=t,this.dragItem=null,this._hitArea=null,this._group=null,this.indexWithinGroup=null,this._setLocked=!1,this.hitArea=e.hitArea,this._group=e.group,this.indexWithinGroup=e.indexWithinGroup,this._data=e.data,this._setLocked=e.setLocked}e.Slot=i}),define("_modules/DnD2/Slot/index",["require","exports","_modules/DnD2/Slot/Slot"],function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(e)}),define("_modules/DnD2/MultiSlot/Config",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define("_modules/DnD2/MultiSlot/defaultConfig",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultConfig={group:null,maxDragItems:null,hitArea:null,indexWithinGroup:null,data:null,setLocked:!1}}),define("_modules/DnD2/MultiSlot/MultiSlot",["require","exports","_modules/DnD2/index","_modules/DnD2/MultiSlot/defaultConfig"],function(t,e,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(o.prototype.reset=function(){this.dragItems.length&&this.dragItems.forEach(function(t){return t.reset()}),this.dragItems=[]},Object.defineProperty(o.prototype,"isLocked",{get:function(){return this._setLocked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"setLocked",{set:function(t){this._setLocked=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"stagePosition",{get:function(){var t=new n.DnD.Point(this.item.parent.localToLocal(this.item.x,this.item.y,this.item.parent.stage));return new n.DnD.Point(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isOccupied",{get:function(){return!!this.config.maxDragItems&&this.dragItems.length===this.config.maxDragItems},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isPartOfGroup",{get:function(){return null!==this.group},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hitArea",{get:function(){return this._hitArea},set:function(t){this._hitArea=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isIndexed",{get:function(){return null!==this.indexWithinGroup},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"index",{get:function(){return this.indexWithinGroup},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return this.isOccupied?this.dragItems.map(function(t){return t.data}):null},enumerable:!0,configurable:!0}),o.prototype.getDistanceFrom=function(t){var e=this.stagePosition.x-t.stagePosition.x,n=this.stagePosition.y-t.stagePosition.y;return Math.hypot(e,n)},o.prototype.testDrop=function(t){var e=t.stagePosition,n=this.hitArea||this.item,i=n.stage.localToLocal(e.x,e.y,n);return n.hitTest(i.x,i.y)},o.prototype.setDragItems=function(t){this.dragItems=t},o.prototype.addDragItem=function(t){this.dragItems=__spread(this.dragItems,[t])},o.prototype.removeDragItem=function(e){this.dragItems=this.dragItems.filter(function(t){return t!==e})},o.prototype.getDragItems=function(){return this.dragItems},o);function o(t,e){void 0===e&&(e={}),this.item=t,this.dragItems=[],this._hitArea=null,this._group=null,this.indexWithinGroup=null,this._setLocked=!1,this.config=__assign(__assign({},i.defaultConfig),e),this.hitArea=e.hitArea,this._group=e.group,this.indexWithinGroup=e.indexWithinGroup,this._data=e.data,this._setLocked=e.setLocked}e.MultiSlot=r}),define("_modules/DnD2/MultiSlot/index",["require","exports","_modules/DnD2/MultiSlot/MultiSlot"],function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(e)}),define("_modules/DnD2/index",["require","exports","_modules/DnD2/Engine/index","_modules/DnD2/DragItem/index","_modules/DnD2/Slot/index","_modules/DnD2/MultiSlot/index","_modules/DnD2/Point"],function(t,e,n,i,r,o,s){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),(a=e.DnD||(e.DnD={})).Engine=n.Engine,a.DragItem=i.DragItem,a.Slot=r.Slot,a.MultiSlot=o.MultiSlot,a.Point=s.Point}),define("Matlandia_Junior/exer_1_4/main",["require","exports","_base/base-exercise","Matlandia_Junior/exer_1_4/lib","_modules/utils/index","_modules/DnD2/index","_modules/core/index"],function(t,e,n,i,r,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,u=(a=n.BaseExercise,__extends(c,a),c.prototype.initialize=function(){this.root.stage.enableMouseOver(),createjs.Touch.enable(this.root.stage),this.setupExerData(),this.setupDnd()},c.prototype.nextStep=function(){return __awaiter(this,void 0,void 0,function(){var e,n=this;return __generator(this,function(t){switch(t.label){case 0:return[4,this.dndReset()];case 1:return t.sent(),this.setSubsteps(6),this.currentID=this.getCurrentSemaphore(),e=this.root.stagesClip["stage"+this.activeSceneIDs[this.currentID]].dragListClip,[0,1,2].forEach(function(t){return n.root.stagesClip["stage"+t].visible=t===n.activeSceneIDs[n.currentID]}),e.children.forEach(function(t){return t.visible=n.activeItemsIDs[n.currentID].includes(t.name)}),this.dragClips=e.children.filter(function(t){return t.visible}),this.dragItems=this.getDragItems(),this.dragClips.forEach(function(t){return t.item.gotoAndStop(t.item.totalFrames-1)}),0===this.currentID&&this.alignItems(),this.dnd.addDragItems(this.dragItems),this.dnd.addSlots(this.getSlots()),[2]}})})},c.prototype.setLocked=function(e){var t=this.dnd.getAllSlots().reduce(function(t,e){return __spread(t,e.getDragItems())},[]).filter(function(t){return t}),n=this.dnd.getAllDragItems().filter(function(t){return t.isInOriginalParent});t.forEach(function(t){return t.setLocked(!0)}),n.forEach(function(t){return t.setLocked(e)})},c.prototype.dndReset=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.dnd.reset(),[4,Promise.all(this.dnd.getAllDragItems().map(function(t){return e.removeItem(t)}))];case 1:return t.sent(),this.dnd.removeSlots(),this.dragClips=[],[2]}})})},c.prototype.reset=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.dndReset()];case 1:return t.sent(),this.setupExerData(),[2]}})})},c.prototype.nextSubstep=function(){var t=this.getCurrentSubstep(),e=this.substepsInstructions[this.currentID][t],n=e.audio,i=e.itemInstruction,r=e.item,o=e.target;this.setActiveSubStepInstructionAudio(n),this.setActiveSubStepInstruction(i),this.itemAnswerID=r,this.slotAnswerID=o},c.prototype.beforeCorrectAnswer=function(){if(this.isFinalSubstep()&&this.dnd.setLocked(!0),this.isFinalSubstep()&&!this.isSemaphoreLast()){var t=this.substepsInstructions[this.currentID+1][0],e=t.audio,n=t.itemInstruction;this.setActiveSubStepInstructionAudio(e),this.setActiveSubStepInstruction(n)}},c.prototype.getRandomUniqueElements=function(t,e){for(var n=[];n.length<e;){var i=r.ArrayUtils.shuffle(t).find(function(t){return-1==n.indexOf(t)});n.push(i)}return n},c.prototype.pickScenesIDs=function(){return this.getPool().elements.map(function(t){return t.attributes.scenes.split(",").map(Number)}).reduce(function(t,e){return __spread(t,[r.ArrayUtils.randomItem(e)])},[])},c.prototype.pickSubsteps=function(n,i){var r=this;void 0===i&&(i=6);var o=this.getPoolElements().map(function(t,e){return t.elements.map(function(t){var e=t.attributes;return{audio:e.audio,itemInstruction:e.itemInstruction,item:+e.item,target:+e.target,scene:+e.scene}}).filter(function(t){return t.scene===n[e]})});return n.map(function(t,e){return r.getRandomUniqueElements(o[e],i)})},c.prototype.alignItems=function(){var n=this;0!==this.dragClips.length&&(this.dragClips.forEach(function(t,e){t.x=0!==e?n.dragClips[e-1].x+s.BoundsUtils.getBounds(n.dragClips[e-1].bounds).width+15:0}),this.dragItems.forEach(function(t,e){t.item.x=s.BoundsUtils.getBounds(t.item.parent.bounds).width/2,t.originalPosition=t.stagePosition}))},c.prototype.setupExerData=function(){this.activeSceneIDs=this.pickScenesIDs(),this.substepsInstructions=this.pickSubsteps(this.activeSceneIDs),this.activeItemsIDs=this.substepsInstructions.map(function(t){return t.map(function(t){return"item"+t.item})})},c.prototype.setupDnd=function(){var r=this;this.dnd=new o.DnD.Engine({dragLayer:this.layers["default"],animationLayers:[this.layers["default"],this.layers["default"]],baseLayer:this.layers["default"],onDropBeforeSnap:function(t,e){var n=t.data===r.itemAnswerID,i=e&&e.data===r.slotAnswerID;if(!n||!i)return!1;r.notifyAnswer(!0)},onDragMove:function(t){},onDrag:function(t){t.item.gotoAndStop("active")}})},c.prototype.isSpecialItem=function(t){var e=this.activeSceneIDs[this.currentID];return 1===this.currentID&&1===e&&[1,4].includes(t)},c.prototype.getDragItems=function(){var n=this;return this.dragClips.map(function(t,e){return new o.DnD.DragItem(t.item,{data:+t.name.replace("item",""),onBeforeTweenToBasePosition:function(t){return t.item.gotoAndPlay("drop")},onAfterTweenToBasePosition:function(t){return n.isSpecialItem(t.data)&&t.item.container.gotoAndStop(0)},onBeforeTweenToSlot:function(t){t.item.gotoAndStop("active"),n.isSpecialItem(t.data)&&t.item.container.gotoAndStop(1)},onAfterTweenToSlot:function(t){t.item.gotoAndStop("active"),n.isSpecialItem(t.data)&&t.item.container.gotoAndStop(1)}})})},c.prototype.getSlots=function(){var n=this,t=+this.getCurrentPool().attributes.slotsCounter;return __spread(new Array(t)).map(function(t,e){return new o.DnD.MultiSlot(n.root.stagesClip["stage"+n.activeSceneIDs[n.currentID]]["target"+e],{group:null,data:e})})},c.prototype.removeItem=function(e){var n=this;return new Promise(function(t){e.attachToOriginalParent(),n.layers["default"].stage.on("tick",function(){e.originalPosition=e.stagePosition,n.dnd.removeDragItem(e),t()},null,!0)})},c.prototype.checkExercise=function(){},c.prototype.sameStep=function(){},c.prototype.sameSubstep=function(){},c.prototype.onCheckReady=function(t){},c.prototype.beforeWrongAnswer=function(){},c.prototype.beforeFinalAnswer=function(){},c.prototype.afterCorrectAnswer=function(){},c.prototype.afterFinalAnswer=function(){},c.prototype.afterWrongAnswer=function(){},c);function c(t){var e=a.call(this,t,{canvasImageSmoothing:!0,disableMouseForAllClips:!1,enableMouse:[],stopAllClips:!0,autoCache:!0,autoCacheScale:1,disableCache:[i.Library.shopTarg0,i.Library.shopTarg1,i.Library.Symbol6,i.Library.Symbol7,i.Library.Symbol8,i.Library.Symbol9,i.Library.Symbol10,i.Library.Symbol11,i.Library.Symbol12,i.Library.Symbol13,i.Library.Symbol14,i.Library.Symbol15,i.Library.Symbol26kopia,i.Library.Symbol27kopia,i.Library.Symbol28kopia,i.Library.Symbol29kopia,i.Library.Symbol30kopia,i.Library.Symbol31kopia,i.Library.Symbol44,i.Library.Symbol45,i.Library.Symbol46,i.Library.Symbol47,i.Library.Symbol48,i.Library.Symbol49,i.Library.dog,i.Library._grzej,i.Library.shelf,i.Library.cat,i.Library.globeUs,i.Library.lamp,i.Library.Symbol50kopia,i.Library.Symbol51kopia,i.Library.Symbol52kopia,i.Library.Symbol53kopia,i.Library.Symbol54kopia,i.Library.Symbol55kopia,i.Library.Symbol56kopia,i.Library.Symbol57kopia,i.Library.Symbol58kopia,i.Library.Symbol59kopia,i.Library.Symbol60kopia,i.Library.Symbol61kopia],enableCache:[],forceCache:[],debug:{listCachedClips:!1,showCachedClips:!1}})||this;return e.root=t,e.dragClips=[],e.dragItems=[],e}e.Main_exer_1_4=u}),define("_base/events/event-receiver",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i.prototype.addSubscriber=function(e){var n=this;this.eventNames.forEach(function(t){n.eventSource.addEventListener(t,function(t){e[t.type]&&e[t.type].call(e,t.detail)})})},i.prototype.removeSubscriber=function(t){},i);function i(t){this.eventSource=t,this.eventNames=["initialize","nextStep","sameStep","checkExercise","checkSubstep","reset","dispose","setLocked","setPoolXml","setLogDisabled","setCurrentPoolIndex","setCurrentPoolItemIndex","setCurrentSemaphore","setInstruction","setLocale","setLocaleDictionary","markWrongState","markCorrectState","markCorrectEndState","markWrongEndState","setHelp"]}e.EventReceiver=n}),define("Matlandia_Junior/exer_1_4/boot",["require","exports","_base/boot","Matlandia_Junior/exer_1_4/lib","Matlandia_Junior/exer_1_4/main","_base/events/event-receiver"],function(t,e,n,i,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=new n.Boot;s.registerLayers(n.Boot.findLayers()),s.setMainLibrary(i.Library,"exer_1_4"),s.setSpriteSheet(i.SpriteSheet),s.setImages(i.Images);var a=new o.EventReceiver(document.body);s.start().then(function(t){var e=new r.Main_exer_1_4(t);(window.exercise=e).setLayers(s.getLayers()),e.setEventEmitter(document.body),a.addSubscriber(e),document.body.setAttribute("resourceStatus","1"),document.body.dispatchEvent(new CustomEvent("loadedResource"))})});
//# sourceMappingURL=boot.js.map